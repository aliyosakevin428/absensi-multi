import{r as x,u as j,j as r,L as v}from"./app-DDfrCDLw.js";import{B as P}from"./badge-MiDQBdzW.js";import{B as s}from"./button-BuJmk2yv.js";import{I as b}from"./input-DsVsH6-y.js";import{P as C,a as k,b as w}from"./popover-C8hy8_t0.js";import{T as D,a as F,b as g,c as t,d as L}from"./table-CfpIsKoh.js";import{A as S}from"./app-layout-DoaucmDC.js";import{t as f}from"./utils-DtvnShxN.js";import $ from"./user-delete-dialog-DxesEOOx.js";import u from"./user-form-sheet-C7lTv4kC.js";import{F as B}from"./folder-Cg__6OFb.js";import{S as y}from"./square-pen-C3u15Zwn.js";import{T as E}from"./trash-2-XumPqAUE.js";import{C as U}from"./circle-plus-Dd0iOGbt.js";/* empty css            */import"./index-CDw_WkRz.js";import"./index-BHwy-fA2.js";import"./index-Ce5DCTkM.js";import"./index-DVX8wpXH.js";import"./index-CbWTgqZZ.js";import"./index-AldrL0yo.js";import"./index-fMFm6i8R.js";import"./index-Bruj9sp3.js";import"./theme-toggler-DMHlR7kB.js";import"./sheet-DbjZVO2o.js";import"./createLucideIcon-Cqdb5Lwq.js";import"./index-GmTlfmzI.js";import"./index-CXYUVXWs.js";import"./app-logo-C8CWIidX.js";import"./app-logo-icon-Xf9aglSp.js";import"./avatar-DZlk431y.js";import"./settings-Bf47e1Rw.js";import"./chevrons-up-down-BDLww10V.js";import"./book-open-CK9VUjos.js";import"./newspaper-CWJrjsgo.js";import"./chevron-right-D3uXVjuE.js";import"./alert-dialog-BLpxtP70.js";import"./form-control-BaV4JWBa.js";import"./label-C4g5na2g.js";import"./multiple-selector-I8WQAuPz.js";import"./select-j_4DM9et.js";import"./index-BdQq_4o_.js";import"./index-CGgNs3K0.js";import"./check-CS5fUIoB.js";const wr=({users:n,positions:l,teams:c})=>{const[m,A]=x.useState(""),{permissions:e}=j().props,{flash:i}=j().props;x.useEffect(()=>{i!=null&&i.success&&f.success(i.success),i!=null&&i.error&&f.error(i.error)},[i]);const N=o=>{const a=o.replace(/\D/g,"");return a.length===12?a.replace(/(\d{4})(\d{4})(\d{4})/,"$1-$2-$3"):a.length===11?a.replace(/(\d{3})(\d{4})(\d{4})/,"$1-$2-$3"):o};return console.log(n),r.jsxs(S,{title:"Daftar Anggota",description:"Daftar anggota yang terdaftar dalam sistem",actions:r.jsx(r.Fragment,{children:(e==null?void 0:e.canAdd)&&r.jsx(u,{purpose:"create",teams:c,positions:l,children:r.jsxs(s,{children:[r.jsx(U,{}),"Tambah Anggota"]})})}),children:[r.jsx("div",{className:"flex gap-4",children:r.jsx(b,{value:m,onChange:o=>A(o.target.value),placeholder:"Cari user",className:"w-full"})}),r.jsxs(D,{children:[r.jsx(F,{children:r.jsxs(g,{children:[r.jsx(t,{children:"No"}),r.jsx(t,{children:"Name"}),r.jsx(t,{children:"Email"}),r.jsx(t,{children:"Kontak"}),r.jsx(t,{children:"Team"}),r.jsx(t,{children:"Roles"}),r.jsx(t,{children:"Position"}),r.jsx(t,{children:"Actions"})]})}),r.jsx(L,{children:n.filter(o=>JSON.stringify(o).toLowerCase().includes(m.toLowerCase())).map((o,a)=>{var d,p,h;return r.jsxs(g,{children:[r.jsx(t,{children:a+1}),r.jsx(t,{children:o.name||"N/A"}),r.jsx(t,{children:o.email||"N/A"}),r.jsx(t,{children:o.kontak?N(o.kontak):"N/A"}),r.jsx(t,{children:((d=o.team)==null?void 0:d.name)||"N/A"}),r.jsx(t,{children:((p=o.roles)==null?void 0:p.join(", "))||"N/A"}),r.jsx(t,{children:r.jsxs(C,{children:[r.jsx(k,{children:r.jsxs(P,{children:[(h=o.positions)==null?void 0:h.length," positions"]})}),r.jsx(w,{align:"end",children:o.positions&&o.positions.length>0?o.positions.map(T=>T.name).join(", "):"N/A"})]})}),r.jsxs(t,{children:[(e==null?void 0:e.canShow)&&r.jsx(s,{variant:"ghost",size:"icon",children:r.jsx(v,{href:route("users.show",o.id),children:r.jsx(B,{})})}),(e==null?void 0:e.canUpdate)&&r.jsx(r.Fragment,{children:r.jsx(u,{purpose:"edit",user:o,positions:l,teams:c,children:r.jsx(s,{variant:"ghost",size:"icon",children:r.jsx(y,{})})})}),(e==null?void 0:e.canDelete)&&r.jsx(r.Fragment,{children:r.jsx($,{user:o,children:r.jsx(s,{variant:"ghost",size:"icon",children:r.jsx(E,{})})})})]})]},o.id)})})]})]})};export{wr as default};
