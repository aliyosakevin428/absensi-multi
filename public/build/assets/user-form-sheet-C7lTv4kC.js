import{r as p,j as a,u as W,b as Y}from"./app-DDfrCDLw.js";import{F as J}from"./form-control-BaV4JWBa.js";import{B as w}from"./button-BuJmk2yv.js";import{I as S}from"./input-DsVsH6-y.js";import{L as Q}from"./label-C4g5na2g.js";import{M as Z}from"./multiple-selector-I8WQAuPz.js";import{u as ee,c as y,P as ae}from"./index-BHwy-fA2.js";import{u as C}from"./index-CDw_WkRz.js";import{c as I}from"./index-Ce5DCTkM.js";import{P as b}from"./index-CbWTgqZZ.js";import{c as P,R as oe,I as te}from"./index-CXYUVXWs.js";import{u as re}from"./index-GmTlfmzI.js";import{u as se}from"./index-Bruj9sp3.js";import{u as ne}from"./index-CGgNs3K0.js";import{c as E,t as N}from"./utils-DtvnShxN.js";import{c as ie}from"./createLucideIcon-Cqdb5Lwq.js";import{S as ce,a as de,b as le,c as pe,d as me}from"./select-j_4DM9et.js";import{S as ue,a as fe,b as he,c as ve,d as xe,e as Re,f as ge,X as je}from"./sheet-DbjZVO2o.js";/* empty css            */import"./index-DVX8wpXH.js";import"./index-AldrL0yo.js";import"./badge-MiDQBdzW.js";import"./index-fMFm6i8R.js";import"./index-BdQq_4o_.js";import"./check-CS5fUIoB.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],be=ie("Circle",Se);var _="Radio",[ke,G]=I(_),[ye,Ce]=ke(_),A=p.forwardRef((n,s)=>{const{__scopeRadio:e,name:l,checked:t=!1,required:c,disabled:m,value:u="on",onCheck:r,form:i,...v}=n,[h,x]=p.useState(null),d=C(s,g=>x(g)),f=p.useRef(!1),R=h?i||!!h.closest("form"):!0;return a.jsxs(ye,{scope:e,checked:t,disabled:m,children:[a.jsx(b.button,{type:"button",role:"radio","aria-checked":t,"data-state":O(t),"data-disabled":m?"":void 0,disabled:m,value:u,...v,ref:d,onClick:y(n.onClick,g=>{t||r==null||r(),R&&(f.current=g.isPropagationStopped(),f.current||g.stopPropagation())})}),R&&a.jsx(M,{control:h,bubbles:!f.current,name:l,value:u,checked:t,required:c,disabled:m,form:i,style:{transform:"translateX(-100%)"}})]})});A.displayName=_;var F="RadioIndicator",D=p.forwardRef((n,s)=>{const{__scopeRadio:e,forceMount:l,...t}=n,c=Ce(F,e);return a.jsx(ae,{present:l||c.checked,children:a.jsx(b.span,{"data-state":O(c.checked),"data-disabled":c.disabled?"":void 0,...t,ref:s})})});D.displayName=F;var _e="RadioBubbleInput",M=p.forwardRef(({__scopeRadio:n,control:s,checked:e,bubbles:l=!0,...t},c)=>{const m=p.useRef(null),u=C(m,c),r=ne(e),i=se(s);return p.useEffect(()=>{const v=m.current;if(!v)return;const h=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(h,"checked").set;if(r!==e&&d){const f=new Event("click",{bubbles:l});d.call(v,e),v.dispatchEvent(f)}},[r,e,l]),a.jsx(b.input,{type:"radio","aria-hidden":!0,defaultChecked:e,...t,tabIndex:-1,ref:u,style:{...t.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});M.displayName=_e;function O(n){return n?"checked":"unchecked"}var we=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],k="RadioGroup",[Ne]=I(k,[P,G]),B=P(),L=G(),[Ie,Pe]=Ne(k),T=p.forwardRef((n,s)=>{const{__scopeRadioGroup:e,name:l,defaultValue:t,value:c,required:m=!1,disabled:u=!1,orientation:r,dir:i,loop:v=!0,onValueChange:h,...x}=n,d=B(e),f=re(i),[R,g]=ee({prop:c,defaultProp:t??null,onChange:h,caller:k});return a.jsx(Ie,{scope:e,name:l,required:m,disabled:u,value:R,onValueChange:g,children:a.jsx(oe,{asChild:!0,...d,orientation:r,dir:f,loop:v,children:a.jsx(b.div,{role:"radiogroup","aria-required":m,"aria-orientation":r,"data-disabled":u?"":void 0,dir:f,...x,ref:s})})})});T.displayName=k;var V="RadioGroupItem",K=p.forwardRef((n,s)=>{const{__scopeRadioGroup:e,disabled:l,...t}=n,c=Pe(V,e),m=c.disabled||l,u=B(e),r=L(e),i=p.useRef(null),v=C(s,i),h=c.value===t.value,x=p.useRef(!1);return p.useEffect(()=>{const d=R=>{we.includes(R.key)&&(x.current=!0)},f=()=>x.current=!1;return document.addEventListener("keydown",d),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",d),document.removeEventListener("keyup",f)}},[]),a.jsx(te,{asChild:!0,...u,focusable:!m,active:h,children:a.jsx(A,{disabled:m,required:c.required,checked:h,...r,...t,name:c.name,ref:v,onCheck:()=>c.onValueChange(t.value),onKeyDown:y(d=>{d.key==="Enter"&&d.preventDefault()}),onFocus:y(t.onFocus,()=>{var d;x.current&&((d=i.current)==null||d.click())})})})});K.displayName=V;var Ee="RadioGroupIndicator",q=p.forwardRef((n,s)=>{const{__scopeRadioGroup:e,...l}=n,t=L(e);return a.jsx(D,{...t,...l,ref:s})});q.displayName=Ee;var U=T,z=K,Ge=q;const H=p.forwardRef(({className:n,...s},e)=>a.jsx(U,{className:E("grid gap-2",n),...s,ref:e}));H.displayName=U.displayName;const X=p.forwardRef(({className:n,...s},e)=>a.jsx(z,{ref:e,className:E("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...s,children:a.jsx(Ge,{className:"flex items-center justify-center",children:a.jsx(be,{className:"h-2.5 w-2.5 fill-current text-current"})})}));X.displayName=z.displayName;const ra=({children:n,purpose:s,user:e,teams:l,positions:t})=>{var R,g;const{roles:c}=W().props,[m,u]=p.useState(!1),{data:r,setData:i,post:v,put:h,processing:x}=Y({name:(e==null?void 0:e.name)??"",email:(e==null?void 0:e.email)??"",password:"",kontak:(e==null?void 0:e.kontak)??"",team_id:((R=e==null?void 0:e.team)==null?void 0:R.id)??"",position_ids:((g=e==null?void 0:e.positions)==null?void 0:g.map(o=>o.id))??[],roles:(e==null?void 0:e.roles)??[]}),d=()=>{var o,j;s==="create"?i({name:"",email:"",password:"",kontak:"",team_id:"",position_ids:[],roles:[]}):e&&i({name:e.name,email:e.email,password:"",kontak:e.kontak,team_id:((o=e.team)==null?void 0:o.id)??"",position_ids:((j=e.positions)==null?void 0:j.map($=>$.id))??[],roles:e.roles??[]})};console.log(r);const f=()=>{s==="create"?v(route("users.store"),{onSuccess:()=>N.success("Anggota Berhasil Ditambahkan"),onFinish:()=>u(!1)}):h(route("users.update",e==null?void 0:e.id),{onSuccess:()=>N.success("Anggota Berhasil Diubah"),onFinish:()=>u(!1)})};return a.jsxs(ue,{open:m,onOpenChange:o=>{u(o),o&&d()},children:[a.jsx(fe,{children:n}),a.jsxs(he,{children:[a.jsx(ve,{children:a.jsxs(xe,{className:"capitalize",children:[s," data user"]})}),a.jsx(S,{value:r.name,onChange:o=>i("name",o.target.value),placeholder:"Name"}),a.jsx(S,{value:r.email,onChange:o=>i("email",o.target.value),placeholder:"Email"}),a.jsx(S,{value:r.kontak,onChange:o=>i("kontak",o.target.value),placeholder:"Kontak"}),a.jsx(S,{type:"password",value:r.password,onChange:o=>i("password",o.target.value),placeholder:s==="create"?"Masukkan password":"Kosongkan jika ingin memakai password lama"}),a.jsxs(ce,{value:r.team_id?r.team_id.toString():"",onValueChange:o=>i("team_id",parseInt(o)),children:[a.jsx(de,{children:a.jsx(le,{placeholder:"Pilih Team"})}),a.jsx(pe,{children:l==null?void 0:l.map(o=>a.jsx(me,{value:o.id.toString(),children:o.name},o.id))})]}),a.jsx(Z,{options:(t==null?void 0:t.map(o=>({label:o.name,value:o.id.toString()})))??[],value:(t==null?void 0:t.filter(o=>r.position_ids.includes(Number(o.id))).map(o=>({label:o.name,value:o.id.toString()})))??[],onChange:o=>i("position_ids",o.map(j=>parseInt(j.value))),placeholder:"Pilih Posisi"}),a.jsx(J,{label:"Select role: ",className:"my-2 flex px-2",children:a.jsx(H,{value:r.roles[0],onValueChange:o=>i("roles",[o]),children:c.map(o=>a.jsx("div",{className:"flex items-center gap-3 px-1",children:a.jsxs(Q,{className:"flex items-center gap-3",children:[a.jsx(X,{value:o.name}),o.name]})}))})}),a.jsxs(Re,{children:[a.jsx(w,{onClick:f,type:"submit",disabled:x,children:x?"Menyimpan...":"Simpan"}),a.jsx(ge,{asChild:!0,children:a.jsxs(w,{variant:"outline",children:[a.jsx(je,{}),"Close"]})})]})]})]})};export{ra as default};
