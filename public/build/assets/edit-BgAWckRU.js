import{j as e,r as j,b as C,a as d,L as S}from"./app-Df3mbPUi.js";import{B as w}from"./back-button-B5wnUhsp.js";import{F as c}from"./form-control-UhHV250J.js";import{S as E}from"./submit-button-KSP4zCTN.js";import{c as A,B as m}from"./button-9WYi6K-0.js";import{c as o,h as F,f as T,t as i,e as n}from"./utils-638cp2NO.js";import{A as B,a as I}from"./avatar-C2HoZ03v.js";import{C as p,d as u,e as _,a as z,b as D,c as U}from"./card-Dc5LHktC.js";import{I as L}from"./input-Cg5Qh1OS.js";import{A as M}from"./app-layout-Cdpsr00c.js";import{T as K}from"./trash-2-Cp3ZqtNQ.js";import{I as x}from"./info-PDCWl4Lm.js";import{F as P}from"./folder-CBNSjAOi.js";/* empty css            */import"./arrow-left-5-CHOPSD.js";import"./createLucideIcon-SMMqF0gJ.js";import"./label-C_tHw3SU.js";import"./index-DCCetT5R.js";import"./index-CA9Kvjwe.js";import"./loader-circle-BykT96my.js";import"./check-DbHeizSn.js";import"./index-BSfUgiQX.js";import"./index-BRG9LdGI.js";import"./theme-toggler-C-WERlBf.js";import"./sheet-Ulit7ETd.js";import"./index-uZWYb__A.js";import"./index-DbH9gTKF.js";import"./index-BqPEmoZ3.js";import"./index-DF4tnvgq.js";import"./index-OP-2HeKn.js";import"./index-EwimxF0w.js";import"./app-logo-BxA-0lpz.js";import"./app-logo-icon-S37ZxhZz.js";import"./settings-Biukm5Ub.js";import"./chevrons-up-down-Dcdp5jj5.js";import"./book-open-C22VND1L.js";import"./newspaper-DjC88fLo.js";import"./chevron-right-KX34Omcy.js";const R=A("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function g({className:r,variant:a,...s}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:o(R({variant:a}),r),...s})}function f({className:r,...a}){return e.jsx("div",{"data-slot":"alert-title",className:o("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",r),...a})}function h({className:r,...a}){return e.jsx("div",{"data-slot":"alert-description",className:o("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",r),...a})}const v=j.forwardRef(({className:r,...a},s)=>e.jsx("textarea",{className:o("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...a}));v.displayName="Textarea";const we=({news:r})=>{const{data:a,setData:s,put:b,processing:N}=C({title:r.title??"",content:r.content??""}),k=()=>{b(route("news.update",r.id),{preserveScroll:!0,onSuccess:()=>{i.success("News created successfully")},onError:t=>i.error(n(t))})};return j.useEffect(()=>F(l=>{d.post(route("news.upload-media",r.id),{file:l},{preserveScroll:!0,onSuccess:()=>i.success("upload completed"),onError:y=>i.error(n(y))})}),[r.id]),e.jsx(M,{title:"Edit News",description:"Edit news content",actions:e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsx(m,{asChild:!0,children:e.jsxs(S,{href:route("news.show",r.id),children:[e.jsx(P,{}),"Detail berita"]})})]}),children:e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs(p,{className:"col-span-2",children:[e.jsxs(u,{className:"space-y-6",children:[e.jsx(c,{label:"Judul berita",children:e.jsx(L,{value:a.title,onChange:t=>s("title",t.target.value)})}),e.jsx(c,{label:"Konten berita",hint:"Tulis dalam format markdown",children:e.jsx(v,{value:a.content,onChange:t=>s("content",t.target.value),className:"min-h-80"})})]}),e.jsx(_,{children:e.jsx(E,{onClick:k,loading:N,label:"Simpan perubahan berita"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(p,{className:"h-fit",children:[e.jsxs(z,{children:[e.jsx(D,{children:"Upload news media"}),e.jsx(U,{children:"Upload image file maximum size 2Mb"})]}),e.jsx(u,{children:e.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:(r.media??[]).length>0&&e.jsx(e.Fragment,{children:r.media.map(t=>e.jsxs("div",{className:"group relative",children:[e.jsx(B,{className:"size-full rounded-lg",onClick:()=>T(t.name,t.original_url),children:e.jsx(I,{src:t.preview_url,className:"object-cover"})}),e.jsx(m,{onClick:()=>{d.delete(route("document.destroy",t.id),{preserveScroll:!0,onSuccess:()=>i.success("upload completed"),onError:l=>i.error(n(l))})},size:"sm",variant:"destructive",className:"absolute right-0 bottom-0 opacity-0 group-hover:opacity-100",children:e.jsx(K,{})})]}))})})})]}),e.jsxs(g,{children:[e.jsx(x,{}),e.jsx(f,{children:"Upload media"}),e.jsx(h,{children:"Paste gambar ke halaman ini untuk upload article berita"})]}),e.jsxs(g,{children:[e.jsx(x,{}),e.jsx(f,{children:"Menambahkan gambar ke content berita"}),e.jsx(h,{children:"Klik gambar media, kemudian paste pada content berita"})]})]})]})})};export{we as default};
